<!-- Overlay para cerrar al hacer clic fuera -->
<div (click)="onClose()" class="sidebar-overlay" [class.sidebar-open]="sidebarOpen"></div>

<div class="sidebar-flyout" [class.sidebar-open]="sidebarOpen">
    <!-- Encabezado del panel -->
    <div class="panel-header">
        <h3 class="panel-title">{{ group.label }}</h3>
        <button (click)="onClose()" class="icon-btn" aria-label="Cerrar panel">
            <span class="material-symbols-outlined">close</span>
        </button>
    </div>

    <!-- Contenido del panel (enlaces) -->
    <div class="panel-content">
        <nav class="links flyout-links-grid">
            @for (link of group.links; track link.routerLink) {
                <a
                    [routerLink]="link.routerLink"
                    routerLinkActive="link-item-active"
                    [routerLinkActiveOptions]="{ exact: true }"
                    class="link-item"
                    (click)="onClose()"
                >
                    <div class="link-header">
                        <span class="material-symbols-outlined icon">{{ link.icon }}</span>
                        @if (link.isNew) {
                            <span class="new-badge">Nuevo</span>
                        }
                    </div>
                    <div class="link-body">
                        <span class="link-title">{{ link.label }}</span>
                    </div>
                </a>
            }
        </nav>
    </div>
</div>
